(use 'korma.db)
(defdb db (mysql {:db "blog" :user "root" :password ""}))
(defentry entries)
(use 'korma.core)
(defentry entries)
(defentity entries)
(select entries)
(insert entries (values {:title "000" :body "hogehoge"}))
quit
(use 'korma.db)
(defdb db (mysql {:db "blog" :user "root" :password ""}))
(use 'korma.core)
(insert entries (values {:title "000" :body "hogehoge"}))
(defentity entries)
(select entries)
(insert entries (values {:title "000" :body "hogehoge"}))
(select entries)
(insert entries (values {:title "111" :body "fugafuga"}))
(select entries)
(class (select entries))
(stringify (select entries))
(use 'korma.db)
(use 'korma.core)
(defentity entries)
(insert entries (values {:title "atttt" :body "houhou"}))
(insert entries (values {:title "bjojojo" :body "mamama"}))
(use 'korma.db)
(use 'korma.core)
(insert entries (values {:title "bjojojo" :body "mamama"}))
(defentity entries)
(insert entries (values {:title "bjojojo" :body "mamama"}))
(delete entries (where {:id 3}))
(delete entries (where {:id 2}))
(select entries)
(delete entries (where {:id 4}))
(select entries)
(use 'korma.db)
(use 'korma.core)
(defentity users)
(select users)
(defentity users)
(select users)
(defentity users)
(select users)
(insert users (values {:email "hoge@hoge.com" :encrypted_password "mamama" :created_at }))
(use :reload-all 'clj-time.core)
(use :reload-all 'clj-time.coerce)
(insert users (values {:email "hoge@hoge.com" :encrypted_password "mamama" :created_at  (to-sql-time (now))}))
(select users)
(first (select users))
(use 'buddy.hashers)
(encrypt "ww")
(check "ww")
(check "ww" "bcrypt+sha512$2531137465024bb2db345625cb32f85e$12$c578d44f0d64dae87c5d6ee64054676921c8e8ddf0f84d7c")
(check "bcrypt+sha512$2531137465024bb2db345625cb32f85e$12$c578d44f0d64dae87c5d6ee64054676921c8e8ddf0f84d7c" "ww")
(check "ww" "bcrypt+sha512$2531137465024bb2db345625cb32f85e$12$c578d44f0d64dae87c5d6ee64054676921c8e8ddf0f84d7c")
(use 'korma.db)
(use 'korma.core)
(defentity users)
(update users (set-fields {:encrypted_password (encrypt "hoge")}) (where {:email "hoge@hoge.com})
)
(update users (set-fields {:encrypted_password (encrypt "hoge")}) (where {:email "hoge@hoge.com}))
(#'korma.core/update users (set-fields {:encrypted_password (encrypt "hoge")}) (where {:email "hoge@hoge.com}))
(update users (set-fields {:encrypted_password (encrypt "hoge")}) (where {:email "hoge@hoge.com"}))
(select users (where {:email "hoge@hoge.com"}))
(select users (where {:email "hoge@hoge.com" :enctypted_password (encrypt "hoge")}))
(select users (where {:email "hoge@hoge.com" :encrypted_password (encrypt "hoge")}))
(encrypt "hoge")
(update users (set-fields {:encrypted_password (encrypt "hoge")}) (where {:email "hoge@hoge.com"}))
(select users (where {:email "hoge@hoge.com" :encrypted_password (encrypt "hoge")}))
(encrypt "hoge")
(check "hoge" "bcrypt+sha512$47a864ed36a79bcf7a9bd2ba141aefe5$12$52591df78afea830f80f57e8b197a7b60500233f43160e15")
